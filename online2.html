<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stacja 2</title>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <link rel="icon" href="bhl.jpg" type="image/jpeg">
  <link rel="shortcut icon" href="bhl.jpg" type="image/jpeg">
<style>
:root { --accent:#00ffcc; --bg:#050507; }
html, body { margin:0; padding:0; height:100%; font-family:'Share Tech Mono', monospace; background:var(--bg); color:var(--accent); overflow:hidden; }
.matrix { position:fixed; top:0; left:0; z-index:0; background:var(--bg); }
canvas { display:block; }

.container {
  position:relative; z-index:1; max-width:820px; margin:80px auto; background: rgba(0,0,0,0.85);
  border:2px solid var(--accent); border-radius:12px; padding:24px 28px; text-align:center;
  box-shadow:0 0 25px rgba(0,255,204,0.2);
}

h2 { color:#ff0055; margin-bottom:16px; font-size:1.9rem; line-height:1.3; }
p, code { font-size:1.1rem; font-weight:700; }
code { display:block; margin:12px 0; }

input, .container button { width:100%; padding:14px; margin-top:12px; font-size:1rem; font-weight:bold; border-radius:6px; box-sizing:border-box; }
input { background:#000; border:2px solid var(--accent); color:var(--accent); }
.container button { background:none; border:2px solid var(--accent); color:var(--accent); cursor:pointer; text-transform:uppercase; }
.container button:hover { background-color:var(--accent); color:#000; }

.decoded, .error { margin-top:20px; padding:15px; border-radius:8px; font-size:1rem; font-weight:bold; text-align:center; }
.decoded { background:rgba(0,255,204,0.05); border:1px solid var(--accent); box-shadow:0 0 10px rgba(0,255,204,0.3); }
.error { color:red; animation:blink 1s step-start infinite; }
@keyframes blink { 50%{opacity:0;} }

#lang-switch { position:fixed; top:15px; right:20px; z-index:2; }
#lang-switch button { background:transparent; border:2px solid var(--accent); color:var(--accent); padding:6px 12px; font-size:0.9rem; border-radius:8px; cursor:pointer; box-shadow:0 0 10px var(--accent); transition:all 0.3s ease;}
#lang-switch button:hover { background:var(--accent); color:#000; }

@media (max-width:480px){ .container{padding:15px;} input,.container button,#lang-switch button{font-size:0.9rem;padding:10px;} }
</style>
</head>
<body>

<div class="matrix"><canvas id="matrixCanvas"></canvas></div>

<div id="lang-switch"><button onclick="toggleLang()">EN</button></div>

<div class="container" id="taskContainer">
<h2 id="header">&gt; STACJA [2/4] â€“ SZYFR: MORSE'A</h2>
<p id="foundText">Znaleziono zakodowany przekaz:</p>
<code>.-. . -..- / .-. ..- -- -... .-.. .</code>
<p id="instructionText">Odszyfruj i wpisz treÅ›Ä‡ (bez spacji):</p>
<input id="morseInput" type="text" placeholder="Twoja odpowiedÅº" autocomplete="off">
<button id="checkBtn" onclick="checkMorse()">SPRAWDÅ¹</button>
</div>

<div class="container" id="morseResult" style="display:none;"></div>

<script>
let currentLang="PL";
const correctHash="UmV4UnVtYmxl";
let lastOutcome=null;

function toggleLang(){
  const btn=document.querySelector("#lang-switch button");
  if(currentLang==="PL"){
    currentLang="EN"; btn.textContent="PL";
    document.getElementById("header").innerHTML="&gt; STATION [2/4] â€“ MORSE CIPHER";
    document.getElementById("foundText").textContent="Encoded transmission found:";
    document.getElementById("instructionText").textContent="Decode and type the content (no spaces):";
    document.getElementById("morseInput").placeholder="Your answer";
    document.getElementById("checkBtn").textContent="CHECK";
  } else {
    currentLang="PL"; btn.textContent="EN";
    document.getElementById("header").innerHTML="&gt; STACJA [2/4] â€“ SZYFR: MORSE'A";
    document.getElementById("foundText").textContent="Znaleziono zakodowany przekaz:";
    document.getElementById("instructionText").textContent="Odszyfruj i wpisz treÅ›Ä‡ (bez spacji):";
    document.getElementById("morseInput").placeholder="Twoja odpowiedÅº";
    document.getElementById("checkBtn").textContent="SPRAWDÅ¹";
  }
}

function checkMorse(){
  const val=document.getElementById('morseInput').value.trim().toLowerCase();
  const task=document.getElementById('taskContainer');
  const result=document.getElementById('morseResult');
  task.style.display='none'; result.style.display='block';
  const decoded=atob(correctHash).toLowerCase();
  if(val===decoded){
    lastOutcome="success";
    if(currentLang==="PL"){ result.innerHTML=`<div class="decoded"><p style="color:#00ffcc;font-size:1.5rem;font-weight:bold;">ODPOWIEDÅ¹ POPRAWNA</p><button onclick="location.href='online3.html'" style="margin-top:20px;">STACJA 3</button></div>`;}
    else{ result.innerHTML=`<div class="decoded"><p style="color:#00ffcc;font-size:1.5rem;font-weight:bold;">CORRECT ANSWER</p><button onclick="location.href='online3.html'" style="margin-top:20px;">STATION 3</button></div>`;}
  } else {
    lastOutcome="error";
    if(currentLang==="PL"){ result.innerHTML=`<div class="error">â–ˆâ–ˆâ–ˆ SYSTEM ERROR â–ˆâ–ˆ<br>BÅ‚Ä…d dekodowania...<br><button onclick="location.reload()">&gt; RESETUJ STACJÄ˜</button></div>`;}
    else{ result.innerHTML=`<div class="error">â–ˆâ–ˆâ–ˆ SYSTEM ERROR â–ˆâ–ˆ<br>Decoding failed...<br><button onclick="location.reload()">&gt; RESET STATION</button></div>`;}
  }
}


const canvas=document.getElementById("matrixCanvas");
const ctx=canvas.getContext("2d");
let W=window.innerWidth, H=window.innerHeight;
let dinos=[];

function resizeCanvas(){
  W=window.innerWidth; H=window.innerHeight;
  const DPR=window.devicePixelRatio||1;
  canvas.width=W*DPR; canvas.height=H*DPR;
  canvas.style.width=W+"px"; canvas.style.height=H+"px";
  ctx.setTransform(DPR,0,0,DPR,0,0);
}

class Dino{
  constructor(){ this.reset(true);}
  reset(initial=false){
    this.x=Math.random()*W;
    this.y=initial? Math.random()*H : -Math.random()*H*0.6;
    this.size=[16,20,24,28,32][Math.floor(Math.random()*5)]*(0.85+Math.random()*0.7);
    this.symbol=['ðŸ¦–','ðŸ¦•'][Math.floor(Math.random()*2)];
    this.speed=(40/this.size)*(0.6+Math.random()*1.4);
    this.sway=0.3+Math.random()*1.2;
    this.phase=Math.random()*Math.PI*2;
    this.alpha=0.6+Math.random()*0.4;
  }
  update(dt){
    this.y+=this.speed*(dt/16);
    this.x+=Math.sin(this.y*0.02+this.phase)*this.sway*(dt/16)*0.4;
    if(this.y>H+this.size+20) this.reset(false);
  }
  draw(ctx){
    ctx.save();
    ctx.globalAlpha=this.alpha;
    ctx.font=Math.round(this.size)+"px serif";
    ctx.textAlign='center'; ctx.textBaseline='top';
    ctx.fillStyle='var(--accent)';
    ctx.fillText(this.symbol,this.x,this.y);
    ctx.restore();
  }
}

function initDinos(){
  dinos=[];
  for(let i=0;i<50;i++) dinos.push(new Dino());
}

let lastTime=null;
function animate(now){
  if(!lastTime) lastTime=now;
  const dt=now-lastTime; lastTime=now;
  ctx.clearRect(0,0,W,H);
  dinos.forEach(d=>{ d.update(dt); d.draw(ctx); });
  requestAnimationFrame(animate);
}

resizeCanvas();
initDinos();
requestAnimationFrame(animate);

window.addEventListener('resize',()=>{
  resizeCanvas();
  initDinos();
});
</script>

</body>
</html>


